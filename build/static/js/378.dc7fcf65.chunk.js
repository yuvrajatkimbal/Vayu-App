"use strict";(self.webpackChunkHES_Vayu=self.webpackChunkHES_Vayu||[]).push([[378],{1908:(e,t,n)=>{n.d(t,{A:()=>I});var r=n(5043),l=n(279),o=n(6446),i=n(9650),a=n(3336),s=n(1806),d=n(4882),c=n(8076),u=n(9652),x=n(1962),h=n(8093),p=n(7392),m=n(3460),f=n(3193),b=n(9285),j=n(2143),A=n(5865),g=n(9135),v=n(378),C=n(9190),y=n(7784),k=n(1906),S=n(2505),w=n(6164),W=n(8082),R=n(579);const I=e=>{let{rows:t,columns:n,handleStatusChange:I=(e,t)=>{}}=e;const[B,M]=(0,r.useState)(1),[T,z]=(0,r.useState)([]),[E,F]=(0,r.useState)(null),[N,O]=(0,r.useState)(null),[L,P]=(0,r.useState)("asc"),[U,V]=(0,r.useState)({}),[$,D]=(0,r.useState)(null),[G,H]=(0,r.useState)(null),[q,X]=(0,r.useState)(""),[_,Q]=(0,r.useState)("contains"),[J,K]=(0,r.useState)(0),[Y,Z]=(0,r.useState)(10),ee=(0,r.useMemo)((()=>{let e=[...t];return Object.entries(U).forEach((t=>{let[n,r]=t;e=e.filter((e=>{var t;return null===(t=e[n])||void 0===t?void 0:t.toString().toLowerCase().includes(r.value.toLowerCase())}))})),N&&e.sort(((e,t)=>{const n=e[N],r=t[N];return n<r?"asc"===L?-1:1:n>r?"asc"===L?1:-1:0})),e}),[t,N,L,U]),[te,ne]=((0,r.useMemo)((()=>N?[...ee].sort(((e,t)=>{const n=e[N],r=t[N];return n<r?"asc"===L?-1:1:n>r?"asc"===L?1:-1:0})):ee),[ee,N,L]),(0,r.useState)(10)),re=t.slice(J*Y,(J+1)*Y);return(0,R.jsxs)(o.A,{children:[(0,R.jsxs)(o.A,{sx:{position:"relative"},children:[(0,R.jsx)(i.A,{component:a.A,elevation:3,sx:{maxHeight:500,overflow:"auto",borderRadius:0,border:"1px solid black",position:"relative","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#bbb",borderRadius:"4px"}},children:(0,R.jsxs)(s.A,{stickyHeader:!0,sx:{minWidth:1e3},children:[(0,R.jsx)(d.A,{children:(0,R.jsxs)(c.A,{sx:{backgroundColor:"#e0f2fe",boxShadow:"inset 0 -1px 0 rgba(0, 0, 0, 0.1)"},children:[(0,R.jsx)(u.A,{sx:{backgroundColor:"#e0f2fe"}}),(0,R.jsx)(u.A,{padding:"checkbox",sx:{backgroundColor:"#e0f2fe",borderBottom:"1px solid #bae6fd"},children:(0,R.jsx)(x.A,{checked:T.length===t.length,indeterminate:T.length>0&&T.length<t.length,onChange:e=>z(e.target.checked?t.map((e=>e.id)):[]),sx:{color:"#0284c7","&.Mui-checked":{color:"#0284c7"},"&.MuiCheckbox-indeterminate":{color:"#0284c7"}}})}),n.map((e=>"id"===e.field?null:(0,R.jsx)(u.A,{sx:{fontWeight:700,textTransform:"capitalize",backgroundColor:"#e0f2fe",color:"#0f172a",fontSize:"0.9rem",letterSpacing:"0.02em",borderBottom:"1px solid #bae6fd"},children:(0,R.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsx)(h.A,{active:N===e.field,direction:N===e.field?L:"asc",onClick:()=>{return t=e.field,void(N===t?P((e=>"asc"===e?"desc":"asc")):(O(t),P("asc")));var t},sx:{"& .MuiTableSortLabel-icon":{color:"#38bdf8"},"&.Mui-active .MuiTableSortLabel-icon":{color:"#0284c7"}},children:e.headerName}),(0,R.jsx)(p.A,{size:"small",onClick:t=>((e,t)=>{D(e.currentTarget),H(t);const n=U[t];X(n?n.value:""),Q(n?n.type:"contains")})(t,e.field),sx:{ml:1,color:"#0284c7","&:hover":{color:"#0369a1"}},children:(0,R.jsx)(W.A,{fontSize:"small"})})]})},e.field)))]})}),(0,R.jsx)(m.A,{children:re.map(((e,t)=>(0,R.jsxs)(r.Fragment,{children:[(0,R.jsxs)(c.A,{hover:!0,sx:{backgroundColor:t%2===0?"#ffffff":"#f6f8fa",transition:"background-color 0.3s"},children:[(0,R.jsx)(u.A,{children:(0,R.jsx)(p.A,{size:"small",onClick:()=>F(E===e.id?null:e.id),children:E===e.id?(0,R.jsx)(w.A,{}):(0,R.jsx)(S.A,{})})}),(0,R.jsx)(u.A,{padding:"checkbox",children:(0,R.jsx)(x.A,{checked:T.includes(e.id),onChange:()=>{return t=e.id,void z((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),n.map((t=>{var n;return"status"===t.field?(0,R.jsx)(u.A,{children:(0,R.jsx)(f.A,{size:"small",fullWidth:!0,children:(0,R.jsxs)(b.A,{value:null!==(n=e.status)&&void 0!==n?n:"Inactive",onChange:t=>I(e.id,t.target.value),sx:{fontSize:"0.85rem",fontWeight:600,borderRadius:"0px",color:"Active"===e.status?"#16a34a":"#dc2626",backgroundColor:"Active"===e.status?"#dcfce7":"#fee2e2",height:"32px"},children:[(0,R.jsx)(j.A,{value:"Active",children:"Active"}),(0,R.jsx)(j.A,{value:"Inactive",children:"Inactive"})]})})},`${e.id}-status`):"id"===t.field?null:(0,R.jsx)(u.A,{children:e[t.field]},`${e.id}-${t.field}`)}))]},e.id),E===e.id&&(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{colSpan:n.length+2,sx:{p:0},children:(0,R.jsx)(l.A,{in:!0,timeout:"auto",unmountOnExit:!0,children:(0,R.jsx)(o.A,{sx:{p:2,bgcolor:"#f0f4f8",borderRadius:1},children:(0,R.jsxs)(A.A,{variant:"body2",children:["Nested details for"," ",(0,R.jsx)("b",{children:e.name||`Row ${e.id}`})]})})})})})]},e.id)))})]})}),(0,R.jsxs)(a.A,{elevation:2,sx:{mt:1,px:1,py:1,display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:0},children:[(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(A.A,{variant:"body2",sx:{mr:2},children:"Rows per page:"}),(0,R.jsx)(f.A,{size:"small",children:(0,R.jsx)(b.A,{sx:{borderRadius:0},value:Y,onChange:e=>{Z(parseInt(e.target.value,10)),K(0)},children:[10,20,50,100].map((e=>(0,R.jsx)(j.A,{sx:{borderRadius:0,"&.MuiMenuItem-root":{borderRadius:0}},value:e,children:e},e)))})})]}),(0,R.jsx)(g.A,{count:Math.ceil(t.length/Y),page:J+1,onChange:(e,t)=>K(t-1),color:"primary",shape:"rounded",showFirstButton:!0,showLastButton:!0,siblingCount:0,boundaryCount:1,sx:{"& .MuiPaginationItem-root":{borderRadius:0}}})]})]}),(0,R.jsxs)(v.A,{anchorEl:$,open:Boolean($),onClose:()=>D(null),PaperProps:{style:{width:"300px",padding:"10px"}},children:[(0,R.jsx)(j.A,{children:(0,R.jsxs)(f.A,{fullWidth:!0,children:[(0,R.jsx)(C.A,{sx:{fontWeight:600},children:"Filter Type"}),(0,R.jsxs)(b.A,{value:_,onChange:e=>{Q(e.target.value)},label:"Filter Type",sx:{borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#1773be"}},children:[(0,R.jsx)(j.A,{value:"contains",children:"Contains"}),(0,R.jsx)(j.A,{value:"startsWith",children:"Starts With"}),(0,R.jsx)(j.A,{value:"endsWith",children:"Ends With"}),(0,R.jsx)(j.A,{value:"equals",children:"Equals"}),(0,R.jsx)(j.A,{value:"greaterThan",children:"Greater Than"}),(0,R.jsx)(j.A,{value:"lessThan",children:"Less Than"})]})]})}),(0,R.jsx)(j.A,{children:(0,R.jsx)(y.A,{label:"Filter Value",variant:"outlined",value:q,onChange:()=>{var e,t;e=_,t=q,V((n=>{var r;return{...n,[e]:{value:t,type:(null===(r=n[e])||void 0===r?void 0:r.type)||"contains"}}}))},fullWidth:!0,sx:{mt:1,"& .MuiInputLabel-root":{fontWeight:600},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#1773be"}}})}),(0,R.jsx)(o.A,{display:"flex",justifyContent:"flex-end",mt:2,mr:2,children:(0,R.jsx)(k.A,{variant:"contained",onClick:()=>{G&&(V((e=>({...e,[G]:{value:q,type:_}}))),D(null))},sx:{padding:"4px 16px",borderRadius:"0px",backgroundColor:"#1773ba",color:"white","&:hover":{backgroundColor:"#1773ba"}},children:"Apply"})})]})]})}},3996:(e,t,n)=>{n.d(t,{s:()=>v});var r=n(5043),l=n(6240),o=n(35),i=n(6600),a=n(5316),s=n(5865),d=n(8903),c=n(2110),u=n(6446),x=n(1906),h=n(9347),p=n(5502),m=n(6765),f=n(8789),b=n(8811),j=n(9380),A=n(4176),g=n(579);const v=e=>{let{title:t,open:n,onClose:v,onBulkUpload:C}=e;const y=(0,l.A)(),[k,S]=(0,r.useState)(null),[w,W]=(0,r.useState)(!1),{getRootProps:R,getInputProps:I}=(0,f.VB)({accept:{"application/vnd.ms-excel":[".xls",".xlsx"],"text/csv":[".csv"]},maxSize:104857600,onDrop:e=>{const t=e[0];S(t)}});return(0,g.jsxs)(o.A,{open:n,onClose:()=>{S(null),v()},PaperProps:{sx:{borderRadius:"16px",padding:2,backgroundColor:y.palette.background.paper,boxShadow:y.shadows[5]}},children:["`"," ",(0,g.jsx)(i.A,{sx:{fontFamily:"GT Walsheim Pro, sans-serif",fontWeight:600,fontSize:"1.25rem",textAlign:"center",pb:1},children:t}),"`",(0,g.jsxs)(a.A,{sx:{pt:0,minWidth:{xs:300,md:500}},children:[(0,g.jsx)(s.A,{sx:{color:"grey.700"},variant:"body2",textAlign:"center",children:"You can upload file via drag and drop or by clicking the upload button."}),(0,g.jsxs)(d.Ay,{item:!0,xs:12,md:6,children:[(0,g.jsxs)(c.A,{variant:"outlined",sx:{p:3,mt:2,textAlign:"center",borderStyle:"dashed",borderColor:"#1773BE",backgroundColor:"#ECF4FA",display:"flex",flexDirection:"column",alignItems:"center"},...R(),children:[(0,g.jsx)("input",{...I()}),k?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[k.name.endsWith(".csv")?(0,g.jsx)(j.A,{sx:{fontSize:40,color:"#1773BE"}}):(0,g.jsx)(A.A,{sx:{fontSize:40,color:"#1773BE"}}),(0,g.jsx)(s.A,{variant:"body2",color:"text.secondary",sx:{wordBreak:"break-word",mt:1},children:k.name})]}),(0,g.jsxs)(u.A,{sx:{display:"flex",gap:2},children:[(0,g.jsx)(x.A,{variant:"outlined",size:"small",sx:{textTransform:"none",color:"#1773BE",borderColor:"#1773BE"},onClick:e=>{e.stopPropagation();const t=URL.createObjectURL(k);window.open(t,"_blank")},children:"View"}),(0,g.jsx)(x.A,{variant:"contained",size:"small",sx:{textTransform:"none",backgroundColor:"#1773BE"},onClick:e=>{R()},children:"Replace"})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:1},children:[(0,g.jsx)(b.vR,{sx:{paddingRight:"8px"}}),(0,g.jsx)(s.A,{color:"primary",fontWeight:"bold",sx:{color:"#1773BE",pl:1},children:"Upload file"})]}),(0,g.jsxs)(s.A,{variant:"body2",color:"text.secondary",sx:{marginBottom:1},children:["Max file size: 100MB",(0,g.jsx)("br",{}),"Supported formats: CSV, XLSX"]})]})]}),!k&&(0,g.jsxs)(u.A,{display:"flex",alignItems:"center",justifyContent:"space-between",mt:2,children:[(0,g.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"File should contain Meter ID, Meter Number and Command"}),(0,g.jsx)(x.A,{variant:"text",size:"small",sx:{color:"#1773BE",textTransform:"none","&:hover":{textDecoration:"underline"},pr:2},onClick:async()=>{const e=await fetch("https://present-blue-antlion.myfilebase.com/ipfs/QmSF1xjA2auTh1qPzST69J1QX1nF8Vbysa6UjVdx6TWw43");if(e.ok){const t=await e.blob(),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="sample-file",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else console.error("Failed to fetch file")},children:"Download Sample"})]})]})]}),(0,g.jsxs)(h.A,{sx:{justifyContent:"space-between",px:2.5,pb:2,mt:1,alignItems:"center"},children:[(0,g.jsx)(x.A,{onClick:v,variant:"outlined",color:"error",startIcon:(0,g.jsx)(p.A,{}),sx:{borderRadius:1,textTransform:"none",px:4},children:"Cancel"}),(0,g.jsx)(x.A,{onClick:C,variant:"outlined",startIcon:(0,g.jsx)(m.A,{}),sx:{background:`linear-gradient(to right, ${y.palette.primary.light}, ${y.palette.primary.main}, ${y.palette.primary.dark})`,color:"#fff",borderRadius:1,px:4,textTransform:"none","&:hover":{background:`linear-gradient(to right, ${y.palette.primary.dark}, ${y.palette.primary.main})`}},children:"Submit"})]})]})}},8997:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(5043),l=n(6446),o=n(5865),i=n(1906),a=n(1908),s=(n(1238),n(3996)),d=n(579);const c=Array.from({length:665}).map(((e,t)=>({id:t+1,meterNumber:"AKL028625"+t%10,commandType:"GetDailyLoadProfile",commandValue:"2025-03-07",meterStatus:"Expired",syncStatus:"Cancelled",createdOn:"28/03/2025 05:08 PM",userGroup:"Group 1",groupCode:"CR-68C50F"})));function u(){const[e,t]=(0,r.useState)(null),[n,u]=(0,r.useState)({page:1,pageSize:10}),x=[{field:"id",headerName:"ID",minWidth:70},{field:"meterNumber",headerName:"Meter Number",minWidth:150},{field:"commandType",headerName:"Command Type",minWidth:180},{field:"commandValue",headerName:"Command Value",minWidth:150},{field:"meterStatus",headerName:"Status",minWidth:100},{field:"syncStatus",headerName:"Sync Status",minWidth:130},{field:"createdOn",headerName:"Created On",minWidth:180},{field:"userGroup",headerName:"User Group",minWidth:120},{field:"groupCode",headerName:"Group Code",minWidth:150}],[h,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)("");return(0,d.jsxs)(l.A,{children:[(0,d.jsxs)(l.A,{display:"flex",justifyContent:"space-between",mb:2,mt:6,children:[(0,d.jsx)(o.A,{variant:"h6"}),(0,d.jsx)(l.A,{children:(0,d.jsx)(i.A,{variant:"outlined",color:"success",onClick:()=>{f("Bulk Upload"),p(!0)},children:"Bulk Upload"})}),(0,d.jsx)(s.s,{title:m,open:h,onClose:()=>{p(!1)},onBulkUpload:e=>{console.log("Bulk Upload File: ",e)}})]}),(0,d.jsx)(a.A,{rows:c,columns:x})]})}}}]);
//# sourceMappingURL=378.dc7fcf65.chunk.js.map