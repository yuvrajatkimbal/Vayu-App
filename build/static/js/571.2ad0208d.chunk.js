"use strict";(self.webpackChunkHES_Vayu=self.webpackChunkHES_Vayu||[]).push([[571],{1132:(e,t,n)=>{var a=n(4994);t.A=void 0;var l=a(n(39)),r=n(579),i=(0,l.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.A=i},1908:(e,t,n)=>{n.d(t,{A:()=>T});var a=n(5043),l=n(279),r=n(6446),i=n(9650),o=n(3336),s=n(1806),d=n(4882),c=n(8076),u=n(9652),h=n(1962),x=n(8093),p=n(7392),m=n(3460),f=n(3193),b=n(9285),j=n(2143),v=n(5865),A=n(9135),g=n(378),C=n(9190),y=n(7784),k=n(1906),S=n(2505),w=n(6164),W=n(8082),R=n(579);const T=e=>{let{rows:t,columns:n,handleStatusChange:T=(e,t)=>{}}=e;const[I,L]=(0,a.useState)(1),[M,O]=(0,a.useState)([]),[z,N]=(0,a.useState)(null),[U,B]=(0,a.useState)(null),[V,D]=(0,a.useState)("asc"),[E,F]=(0,a.useState)({}),[P,$]=(0,a.useState)(null),[G,H]=(0,a.useState)(null),[_,q]=(0,a.useState)(""),[J,K]=(0,a.useState)("contains"),[Q,X]=(0,a.useState)(0),[Y,Z]=(0,a.useState)(10),ee=(0,a.useMemo)((()=>{let e=[...t];return Object.entries(E).forEach((t=>{let[n,a]=t;e=e.filter((e=>{var t;return null===(t=e[n])||void 0===t?void 0:t.toString().toLowerCase().includes(a.value.toLowerCase())}))})),U&&e.sort(((e,t)=>{const n=e[U],a=t[U];return n<a?"asc"===V?-1:1:n>a?"asc"===V?1:-1:0})),e}),[t,U,V,E]),[te,ne]=((0,a.useMemo)((()=>U?[...ee].sort(((e,t)=>{const n=e[U],a=t[U];return n<a?"asc"===V?-1:1:n>a?"asc"===V?1:-1:0})):ee),[ee,U,V]),(0,a.useState)(10)),ae=t.slice(Q*Y,(Q+1)*Y);return(0,R.jsxs)(r.A,{children:[(0,R.jsxs)(r.A,{sx:{position:"relative"},children:[(0,R.jsx)(i.A,{component:o.A,elevation:3,sx:{maxHeight:500,overflow:"auto",borderRadius:0,border:"1px solid black",position:"relative","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#bbb",borderRadius:"4px"}},children:(0,R.jsxs)(s.A,{stickyHeader:!0,sx:{minWidth:1e3},children:[(0,R.jsx)(d.A,{children:(0,R.jsxs)(c.A,{sx:{backgroundColor:"#e0f2fe",boxShadow:"inset 0 -1px 0 rgba(0, 0, 0, 0.1)"},children:[(0,R.jsx)(u.A,{sx:{backgroundColor:"#e0f2fe"}}),(0,R.jsx)(u.A,{padding:"checkbox",sx:{backgroundColor:"#e0f2fe",borderBottom:"1px solid #bae6fd"},children:(0,R.jsx)(h.A,{checked:M.length===t.length,indeterminate:M.length>0&&M.length<t.length,onChange:e=>O(e.target.checked?t.map((e=>e.id)):[]),sx:{color:"#0284c7","&.Mui-checked":{color:"#0284c7"},"&.MuiCheckbox-indeterminate":{color:"#0284c7"}}})}),n.map((e=>"id"===e.field?null:(0,R.jsx)(u.A,{sx:{fontWeight:700,textTransform:"capitalize",backgroundColor:"#e0f2fe",color:"#0f172a",fontSize:"0.9rem",letterSpacing:"0.02em",borderBottom:"1px solid #bae6fd"},children:(0,R.jsxs)(r.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsx)(x.A,{active:U===e.field,direction:U===e.field?V:"asc",onClick:()=>{return t=e.field,void(U===t?D((e=>"asc"===e?"desc":"asc")):(B(t),D("asc")));var t},sx:{"& .MuiTableSortLabel-icon":{color:"#38bdf8"},"&.Mui-active .MuiTableSortLabel-icon":{color:"#0284c7"}},children:e.headerName}),(0,R.jsx)(p.A,{size:"small",onClick:t=>((e,t)=>{$(e.currentTarget),H(t);const n=E[t];q(n?n.value:""),K(n?n.type:"contains")})(t,e.field),sx:{ml:1,color:"#0284c7","&:hover":{color:"#0369a1"}},children:(0,R.jsx)(W.A,{fontSize:"small"})})]})},e.field)))]})}),(0,R.jsx)(m.A,{children:ae.map(((e,t)=>(0,R.jsxs)(a.Fragment,{children:[(0,R.jsxs)(c.A,{hover:!0,sx:{backgroundColor:t%2===0?"#ffffff":"#f6f8fa",transition:"background-color 0.3s"},children:[(0,R.jsx)(u.A,{children:(0,R.jsx)(p.A,{size:"small",onClick:()=>N(z===e.id?null:e.id),children:z===e.id?(0,R.jsx)(w.A,{}):(0,R.jsx)(S.A,{})})}),(0,R.jsx)(u.A,{padding:"checkbox",children:(0,R.jsx)(h.A,{checked:M.includes(e.id),onChange:()=>{return t=e.id,void O((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),n.map((t=>{var n;return"status"===t.field?(0,R.jsx)(u.A,{children:(0,R.jsx)(f.A,{size:"small",fullWidth:!0,children:(0,R.jsxs)(b.A,{value:null!==(n=e.status)&&void 0!==n?n:"Inactive",onChange:t=>T(e.id,t.target.value),sx:{fontSize:"0.85rem",fontWeight:600,color:"Active"===e.status?"#16a34a":"#dc2626",backgroundColor:"Active"===e.status?"#dcfce7":"#fee2e2",borderRadius:"6px",height:"32px"},children:[(0,R.jsx)(j.A,{value:"Active",children:"Active"}),(0,R.jsx)(j.A,{value:"Inactive",children:"Inactive"})]})})},`${e.id}-status`):"id"===t.field?null:(0,R.jsx)(u.A,{children:e[t.field]},`${e.id}-${t.field}`)}))]},e.id),z===e.id&&(0,R.jsx)(c.A,{children:(0,R.jsx)(u.A,{colSpan:n.length+2,sx:{p:0},children:(0,R.jsx)(l.A,{in:!0,timeout:"auto",unmountOnExit:!0,children:(0,R.jsx)(r.A,{sx:{p:2,bgcolor:"#f0f4f8",borderRadius:1},children:(0,R.jsxs)(v.A,{variant:"body2",children:["Nested details for"," ",(0,R.jsx)("b",{children:e.name||`Row ${e.id}`})]})})})})})]},e.id)))})]})}),(0,R.jsxs)(o.A,{elevation:2,sx:{mt:1,px:1,py:1,display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:0},children:[(0,R.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(v.A,{variant:"body2",sx:{mr:2},children:"Rows per page:"}),(0,R.jsx)(f.A,{size:"small",children:(0,R.jsx)(b.A,{value:Y,onChange:e=>{Z(parseInt(e.target.value,10)),X(0)},children:[10,20,50,100].map((e=>(0,R.jsx)(j.A,{value:e,children:e},e)))})})]}),(0,R.jsx)(A.A,{count:Math.ceil(t.length/Y),page:Q+1,onChange:(e,t)=>X(t-1),color:"primary",shape:"rounded",showFirstButton:!0,showLastButton:!0,siblingCount:0,boundaryCount:1})]})]}),(0,R.jsxs)(g.A,{anchorEl:P,open:Boolean(P),onClose:()=>$(null),PaperProps:{style:{width:"300px",padding:"10px"}},children:[(0,R.jsx)(j.A,{children:(0,R.jsxs)(f.A,{fullWidth:!0,children:[(0,R.jsx)(C.A,{sx:{fontWeight:600},children:"Filter Type"}),(0,R.jsxs)(b.A,{value:J,onChange:e=>{K(e.target.value)},label:"Filter Type",sx:{borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3f51b5"}},children:[(0,R.jsx)(j.A,{value:"contains",children:"Contains"}),(0,R.jsx)(j.A,{value:"startsWith",children:"Starts With"}),(0,R.jsx)(j.A,{value:"endsWith",children:"Ends With"}),(0,R.jsx)(j.A,{value:"equals",children:"Equals"}),(0,R.jsx)(j.A,{value:"greaterThan",children:"Greater Than"}),(0,R.jsx)(j.A,{value:"lessThan",children:"Less Than"})]})]})}),(0,R.jsx)(j.A,{children:(0,R.jsx)(y.A,{label:"Filter Value",variant:"outlined",value:_,onChange:()=>{var e,t;e=J,t=_,F((n=>{var a;return{...n,[e]:{value:t,type:(null===(a=n[e])||void 0===a?void 0:a.type)||"contains"}}}))},fullWidth:!0,sx:{mt:1,"& .MuiInputLabel-root":{fontWeight:600},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3f51b5"}}})}),(0,R.jsx)(r.A,{display:"flex",justifyContent:"flex-end",mt:2,mr:2,children:(0,R.jsx)(k.A,{variant:"contained",onClick:()=>{G&&(F((e=>({...e,[G]:{value:_,type:J}}))),$(null))},sx:{padding:"4px 16px",borderRadius:"5px",backgroundColor:"#3f51b5",color:"white","&:hover":{backgroundColor:"#303f9f"}},children:"Apply"})})]})]})}},9571:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(5043),l=n(6446),r=n(5865),i=n(1906),o=n(1908),s=n(8218),d=n(6240),c=n(35),u=n(6600),h=n(5316),x=n(9347),p=n(5502),m=n(1132),f=n(9662),b=n(579);const j=(0,f.A)((0,b.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11 8 15.01z"}),"UploadFileOutlined"),v=e=>{let{open:t,onClose:n,onBulkUpload:o}=e;const s=(0,d.A)(),[f,v]=(0,a.useState)(null),[A,g]=(0,a.useState)(!1);return(0,b.jsxs)(c.A,{open:t,onClose:n,PaperProps:{sx:{borderRadius:"16px",padding:2,backgroundColor:s.palette.background.paper,boxShadow:s.shadows[5]}},children:[(0,b.jsx)(u.A,{sx:{fontFamily:"GT Walsheim Pro, sans-serif",fontWeight:600,fontSize:"1.25rem"},children:"Upload Commands"}),(0,b.jsxs)(h.A,{sx:{pt:0},children:[(0,b.jsx)(r.A,{variant:"body2",sx:{mb:2,fontFamily:"GT Walsheim Pro, sans-serif"},children:"Drag and drop a CSV file or click to select manually."}),(0,b.jsxs)(l.A,{component:"label",onDrop:e=>{e.preventDefault(),g(!1);const t=e.dataTransfer.files[0];t&&v(t)},onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:()=>{g(!1)},sx:{display:"flex",alignItems:"center",justifyContent:"center",height:120,border:`2px dashed ${A?s.palette.primary.main:s.palette.divider}`,borderRadius:"12px",cursor:"pointer",backgroundColor:A?s.palette.action.selected:s.palette.action.hover,mb:2,textAlign:"center",color:s.palette.text.secondary,fontFamily:"GT Walsheim Pro, sans-serif",transition:"all 0.2s ease-in-out"},children:[(0,b.jsx)("input",{id:"upload-csv",type:"file",accept:".csv",hidden:!0,onChange:e=>{var t;null!==(t=e.target.files)&&void 0!==t&&t[0]&&v(e.target.files[0])}}),(0,b.jsx)(r.A,{variant:"body2",children:f?f.name:"Drop file here or click to upload"})]}),(0,b.jsx)(i.A,{fullWidth:!0,variant:"outlined",startIcon:(0,b.jsx)(m.A,{}),onClick:()=>{const e=new Blob(["Name,Email,Phone\nJohn Doe,john@example.com,1234567890\nJane Smith,jane@example.com,9876543210"],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="sample.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},sx:{fontFamily:"GT Walsheim Pro, sans-serif",mb:1},children:"Download Sample CSV"})]}),(0,b.jsxs)(x.A,{sx:{justifyContent:"center",px:4,pb:3,mt:1,gap:2},children:[(0,b.jsx)(i.A,{onClick:n,variant:"outlined",startIcon:(0,b.jsx)(p.A,{}),sx:{borderRadius:2,textTransform:"none",px:3},children:"Cancel"}),(0,b.jsx)(i.A,{onClick:()=>{f?(console.log("Uploading file:",f.name),o(f),n()):alert("Please select a file.")},variant:"contained",startIcon:(0,b.jsx)(j,{}),sx:{background:`linear-gradient(to right, ${s.palette.primary.light}, ${s.palette.primary.main}, ${s.palette.primary.dark})`,color:"#fff",borderRadius:2,px:4,textTransform:"none",boxShadow:"0px 4px 14px rgba(99, 102, 241, 0.3)","&:hover":{background:`linear-gradient(to right, ${s.palette.primary.dark}, ${s.palette.primary.main})`}},children:"Submit"})]})]})},A=Array.from({length:665}).map(((e,t)=>({id:t+1,meterNumber:"AKL028625"+t%10,commandType:"GetDailyLoadProfile",commandValue:"2025-03-07",meterStatus:"Expired",syncStatus:"Cancelled",createdOn:"28/03/2025 05:08 PM",userGroup:"Group 1",groupCode:"CR-68C50F"})));function g(){const[e,t]=(0,a.useState)(null),[n,d]=(0,a.useState)({page:1,pageSize:10}),c=[{field:"id",headerName:"ID",minWidth:70},{field:"meterNumber",headerName:"Meter Number",minWidth:150},{field:"commandType",headerName:"Command Type",minWidth:180},{field:"commandValue",headerName:"Command Value",minWidth:150},{field:"meterStatus",headerName:"Status",minWidth:100},{field:"syncStatus",headerName:"Sync Status",minWidth:130},{field:"createdOn",headerName:"Created On",minWidth:180},{field:"userGroup",headerName:"User Group",minWidth:120},{field:"groupCode",headerName:"Group Code",minWidth:150}],[u,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)("");return(0,b.jsxs)(l.A,{children:[(0,b.jsxs)(l.A,{display:"flex",justifyContent:"space-between",mb:2,mt:6,children:[(0,b.jsx)(r.A,{variant:"h6"}),(0,b.jsxs)(l.A,{children:[(0,b.jsx)(i.A,{variant:"contained",color:"error",sx:{mr:2},onClick:()=>{p("Bulk Cancel Commands"),h(!0)},children:"Bulk Cancel Commands"}),(0,b.jsx)(i.A,{variant:"contained",color:"success",onClick:()=>{p("Bulk Upload Commands"),h(!0)},children:"Bulk Upload Commands"}),(0,b.jsx)(v,{open:u,onClose:()=>{h(!1)},onBulkUpload:e=>{console.log("Bulk Upload File: ",e)}})]})]}),(0,b.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,b.jsx)(r.A,{variant:"h6"}),(0,b.jsx)(i.A,{variant:"outlined",size:"small",startIcon:(0,b.jsx)(s.A,{}),onClick:()=>{const e=c.map((e=>e.headerName)).join(","),t=A.map((e=>c.map((t=>e[t.field])).join(","))).join("\n"),n=new Blob([`${e}\n${t}`],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),l=document.createElement("a");l.setAttribute("href",a),l.setAttribute("download","table_data.csv"),l.click()},children:"Export CSV"})]}),(0,b.jsx)(o.A,{rows:A,columns:c})]})}}}]);
//# sourceMappingURL=571.2ad0208d.chunk.js.map