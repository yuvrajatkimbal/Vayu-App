"use strict";(self.webpackChunkHES_Vayu=self.webpackChunkHES_Vayu||[]).push([[3],{1132:(e,l,n)=>{var t=n(4994);l.A=void 0;var a=t(n(39)),i=n(579),s=(0,a.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");l.A=s},1908:(e,l,n)=>{n.d(l,{A:()=>M});var t=n(5043),a=n(279),i=n(6446),s=n(9650),r=n(3336),o=n(1806),d=n(4882),c=n(8076),u=n(9652),h=n(1962),x=n(8093),m=n(7392),p=n(3460),f=n(3193),j=n(9285),A=n(2143),b=n(5865),v=n(9135),C=n(378),g=n(9190),k=n(7784),S=n(1906),y=n(2505),w=n(6164),W=n(8082),I=n(579);const M=e=>{let{rows:l,columns:n,handleStatusChange:M=(e,l)=>{}}=e;const[N,B]=(0,t.useState)(1),[O,T]=(0,t.useState)([]),[z,L]=(0,t.useState)(null),[R,U]=(0,t.useState)(null),[V,E]=(0,t.useState)("asc"),[F,G]=(0,t.useState)({}),[H,P]=(0,t.useState)(null),[$,D]=(0,t.useState)(null),[_,q]=(0,t.useState)(""),[K,J]=(0,t.useState)("contains"),[Q,X]=(0,t.useState)(0),[Y,Z]=(0,t.useState)(10),ee=(0,t.useMemo)((()=>{let e=[...l];return Object.entries(F).forEach((l=>{let[n,t]=l;e=e.filter((e=>{var l;return null===(l=e[n])||void 0===l?void 0:l.toString().toLowerCase().includes(t.value.toLowerCase())}))})),R&&e.sort(((e,l)=>{const n=e[R],t=l[R];return n<t?"asc"===V?-1:1:n>t?"asc"===V?1:-1:0})),e}),[l,R,V,F]),[le,ne]=((0,t.useMemo)((()=>R?[...ee].sort(((e,l)=>{const n=e[R],t=l[R];return n<t?"asc"===V?-1:1:n>t?"asc"===V?1:-1:0})):ee),[ee,R,V]),(0,t.useState)(10)),te=l.slice(Q*Y,(Q+1)*Y);return(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(i.A,{sx:{position:"relative"},children:[(0,I.jsx)(s.A,{component:r.A,elevation:3,sx:{maxHeight:500,overflow:"auto",borderRadius:0,border:"1px solid black",position:"relative","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#bbb",borderRadius:"4px"}},children:(0,I.jsxs)(o.A,{stickyHeader:!0,sx:{minWidth:1e3},children:[(0,I.jsx)(d.A,{children:(0,I.jsxs)(c.A,{sx:{backgroundColor:"#e0f2fe",boxShadow:"inset 0 -1px 0 rgba(0, 0, 0, 0.1)"},children:[(0,I.jsx)(u.A,{sx:{backgroundColor:"#e0f2fe"}}),(0,I.jsx)(u.A,{padding:"checkbox",sx:{backgroundColor:"#e0f2fe",borderBottom:"1px solid #bae6fd"},children:(0,I.jsx)(h.A,{checked:O.length===l.length,indeterminate:O.length>0&&O.length<l.length,onChange:e=>T(e.target.checked?l.map((e=>e.id)):[]),sx:{color:"#0284c7","&.Mui-checked":{color:"#0284c7"},"&.MuiCheckbox-indeterminate":{color:"#0284c7"}}})}),n.map((e=>"id"===e.field?null:(0,I.jsx)(u.A,{sx:{fontWeight:700,textTransform:"capitalize",backgroundColor:"#e0f2fe",color:"#0f172a",fontSize:"0.9rem",letterSpacing:"0.02em",borderBottom:"1px solid #bae6fd"},children:(0,I.jsxs)(i.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(x.A,{active:R===e.field,direction:R===e.field?V:"asc",onClick:()=>{return l=e.field,void(R===l?E((e=>"asc"===e?"desc":"asc")):(U(l),E("asc")));var l},sx:{"& .MuiTableSortLabel-icon":{color:"#38bdf8"},"&.Mui-active .MuiTableSortLabel-icon":{color:"#0284c7"}},children:e.headerName}),(0,I.jsx)(m.A,{size:"small",onClick:l=>((e,l)=>{P(e.currentTarget),D(l);const n=F[l];q(n?n.value:""),J(n?n.type:"contains")})(l,e.field),sx:{ml:1,color:"#0284c7","&:hover":{color:"#0369a1"}},children:(0,I.jsx)(W.A,{fontSize:"small"})})]})},e.field)))]})}),(0,I.jsx)(p.A,{children:te.map(((e,l)=>(0,I.jsxs)(t.Fragment,{children:[(0,I.jsxs)(c.A,{hover:!0,sx:{backgroundColor:l%2===0?"#ffffff":"#f6f8fa",transition:"background-color 0.3s"},children:[(0,I.jsx)(u.A,{children:(0,I.jsx)(m.A,{size:"small",onClick:()=>L(z===e.id?null:e.id),children:z===e.id?(0,I.jsx)(w.A,{}):(0,I.jsx)(y.A,{})})}),(0,I.jsx)(u.A,{padding:"checkbox",children:(0,I.jsx)(h.A,{checked:O.includes(e.id),onChange:()=>{return l=e.id,void T((e=>e.includes(l)?e.filter((e=>e!==l)):[...e,l]));var l}})}),n.map((l=>{var n;return"status"===l.field?(0,I.jsx)(u.A,{children:(0,I.jsx)(f.A,{size:"small",fullWidth:!0,children:(0,I.jsxs)(j.A,{value:null!==(n=e.status)&&void 0!==n?n:"Inactive",onChange:l=>M(e.id,l.target.value),sx:{fontSize:"0.85rem",fontWeight:600,color:"Active"===e.status?"#16a34a":"#dc2626",backgroundColor:"Active"===e.status?"#dcfce7":"#fee2e2",borderRadius:"6px",height:"32px"},children:[(0,I.jsx)(A.A,{value:"Active",children:"Active"}),(0,I.jsx)(A.A,{value:"Inactive",children:"Inactive"})]})})},`${e.id}-status`):"id"===l.field?null:(0,I.jsx)(u.A,{children:e[l.field]},`${e.id}-${l.field}`)}))]},e.id),z===e.id&&(0,I.jsx)(c.A,{children:(0,I.jsx)(u.A,{colSpan:n.length+2,sx:{p:0},children:(0,I.jsx)(a.A,{in:!0,timeout:"auto",unmountOnExit:!0,children:(0,I.jsx)(i.A,{sx:{p:2,bgcolor:"#f0f4f8",borderRadius:1},children:(0,I.jsxs)(b.A,{variant:"body2",children:["Nested details for"," ",(0,I.jsx)("b",{children:e.name||`Row ${e.id}`})]})})})})})]},e.id)))})]})}),(0,I.jsxs)(r.A,{elevation:2,sx:{mt:1,px:1,py:1,display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:0},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(b.A,{variant:"body2",sx:{mr:2},children:"Rows per page:"}),(0,I.jsx)(f.A,{size:"small",children:(0,I.jsx)(j.A,{value:Y,onChange:e=>{Z(parseInt(e.target.value,10)),X(0)},children:[10,20,50,100].map((e=>(0,I.jsx)(A.A,{value:e,children:e},e)))})})]}),(0,I.jsx)(v.A,{count:Math.ceil(l.length/Y),page:Q+1,onChange:(e,l)=>X(l-1),color:"primary",shape:"rounded",showFirstButton:!0,showLastButton:!0,siblingCount:0,boundaryCount:1})]})]}),(0,I.jsxs)(C.A,{anchorEl:H,open:Boolean(H),onClose:()=>P(null),PaperProps:{style:{width:"300px",padding:"10px"}},children:[(0,I.jsx)(A.A,{children:(0,I.jsxs)(f.A,{fullWidth:!0,children:[(0,I.jsx)(g.A,{sx:{fontWeight:600},children:"Filter Type"}),(0,I.jsxs)(j.A,{value:K,onChange:e=>{J(e.target.value)},label:"Filter Type",sx:{borderRadius:0,"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3f51b5"}},children:[(0,I.jsx)(A.A,{value:"contains",children:"Contains"}),(0,I.jsx)(A.A,{value:"startsWith",children:"Starts With"}),(0,I.jsx)(A.A,{value:"endsWith",children:"Ends With"}),(0,I.jsx)(A.A,{value:"equals",children:"Equals"}),(0,I.jsx)(A.A,{value:"greaterThan",children:"Greater Than"}),(0,I.jsx)(A.A,{value:"lessThan",children:"Less Than"})]})]})}),(0,I.jsx)(A.A,{children:(0,I.jsx)(k.A,{label:"Filter Value",variant:"outlined",value:_,onChange:()=>{var e,l;e=K,l=_,G((n=>{var t;return{...n,[e]:{value:l,type:(null===(t=n[e])||void 0===t?void 0:t.type)||"contains"}}}))},fullWidth:!0,sx:{mt:1,"& .MuiInputLabel-root":{fontWeight:600},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3f51b5"}}})}),(0,I.jsx)(i.A,{display:"flex",justifyContent:"flex-end",mt:2,mr:2,children:(0,I.jsx)(S.A,{variant:"contained",onClick:()=>{$&&(G((e=>({...e,[$]:{value:_,type:K}}))),P(null))},sx:{padding:"4px 16px",borderRadius:"5px",backgroundColor:"#3f51b5",color:"white","&:hover":{backgroundColor:"#303f9f"}},children:"Apply"})})]})]})}},3003:(e,l,n)=>{n.r(l),n.d(l,{default:()=>A});var t=n(5043),a=n(6446),i=n(5865),s=n(1906),r=n(1908),o=n(8218),d=n(35),c=n(6600),u=n(5316),h=n(7784),x=n(9347),m=n(1132),p=n(579);const f=e=>{let{open:l,onClose:n,onBulkUpload:r}=e;const[o,f]=(0,t.useState)(null);return(0,p.jsxs)(d.A,{open:l,onClose:n,children:[(0,p.jsx)(c.A,{children:"Upload Commands"}),(0,p.jsxs)(u.A,{children:[(0,p.jsx)(i.A,{variant:"body2",gutterBottom:!0,children:"Please select a file to upload or download the sample CSV."}),(0,p.jsx)(h.A,{type:"file",fullWidth:!0,onChange:e=>{e.target.files&&f(e.target.files[0])},InputLabelProps:{shrink:!0},sx:{mb:2}}),(0,p.jsx)(a.A,{children:(0,p.jsx)(s.A,{variant:"outlined",startIcon:(0,p.jsx)(m.A,{}),onClick:()=>{console.log("Downloading sample CSV...")},sx:{mr:2},children:"Download Sample CSV"})})]}),(0,p.jsxs)(x.A,{children:[(0,p.jsx)(s.A,{onClick:n,color:"secondary",children:"Cancel"}),(0,p.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>{o?(console.log("Uploading file:",o.name),r(o),n()):alert("Please select a file.")},disabled:!o,children:"Upload Selected File"})]})]})},j=Array.from({length:665}).map(((e,l)=>({id:l+1,meterNumber:"AKL028625"+l%10,commandType:"GetDailyLoadProfile",commandValue:"2025-03-07",meterStatus:"Expired",syncStatus:"Cancelled",createdOn:"28/03/2025 05:08 PM",userGroup:"Group 1",groupCode:"CR-68C50F"})));function A(){const[e,l]=(0,t.useState)(null),[n,d]=(0,t.useState)({page:1,pageSize:10}),c=[{field:"id",headerName:"ID",minWidth:70},{field:"meterNumber",headerName:"Meter Number",minWidth:150},{field:"commandType",headerName:"Command Type",minWidth:180},{field:"commandValue",headerName:"Command Value",minWidth:150},{field:"meterStatus",headerName:"Status",minWidth:100},{field:"syncStatus",headerName:"Sync Status",minWidth:130},{field:"createdOn",headerName:"Created On",minWidth:180},{field:"userGroup",headerName:"User Group",minWidth:120},{field:"groupCode",headerName:"Group Code",minWidth:150}],[u,h]=(0,t.useState)(!1),[x,m]=(0,t.useState)("");return(0,p.jsxs)(a.A,{children:[(0,p.jsxs)(a.A,{display:"flex",justifyContent:"space-between",mb:2,mt:6,children:[(0,p.jsx)(i.A,{variant:"h6"}),(0,p.jsxs)(a.A,{children:[(0,p.jsx)(s.A,{variant:"contained",color:"error",sx:{mr:2},onClick:()=>{m("Bulk Cancel Commands"),h(!0)},children:"Bulk Cancel Commands"}),(0,p.jsx)(s.A,{variant:"contained",color:"success",onClick:()=>{m("Bulk Upload Commands"),h(!0)},children:"Bulk Upload Commands"}),(0,p.jsx)(f,{open:u,onClose:()=>{h(!1)},onBulkUpload:e=>{console.log("Bulk Upload File: ",e)}})]})]}),(0,p.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,p.jsx)(i.A,{variant:"h6"}),(0,p.jsx)(s.A,{variant:"outlined",size:"small",startIcon:(0,p.jsx)(o.A,{}),onClick:()=>{const e=c.map((e=>e.headerName)).join(","),l=j.map((e=>c.map((l=>e[l.field])).join(","))).join("\n"),n=new Blob([`${e}\n${l}`],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","table_data.csv"),a.click()},children:"Export CSV"})]}),(0,p.jsx)(r.A,{rows:j,columns:c})]})}}}]);
//# sourceMappingURL=3.44c47ca1.chunk.js.map